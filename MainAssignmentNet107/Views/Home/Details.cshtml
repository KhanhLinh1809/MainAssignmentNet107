@model MainAssignmentNet107.Models.Product

@{
    ViewData["Title"] = Model.Name;
}

<div class="row mt-5">
    <div class="col-md-6 mb-4">
        <div class="card border-0 shadow-sm">
             <img src="@(string.IsNullOrEmpty(Model.Image) ? "https://via.placeholder.com/600x600" : "/images/" + Model.Image)" 
                  class="img-fluid rounded" 
                  alt="@Model.Name"
                  onerror="this.src='https://via.placeholder.com/600x600?text=No+Image'">
        </div>
    </div>
    <div class="col-md-6">
        <h1 class="display-5 fw-bold mb-3">@Model.Name</h1>
        <p class="text-muted fs-5">Danh mục: <span class="fw-bold text-dark">@Model.CategoryName</span></p>
        
        <h2 class="text-primary fw-bold mb-4">@Model.Price.ToString("N0") đ</h2>
        
        <p class="mb-4">@Model.Description</p>
        
        <form asp-controller="Cart" asp-action="AddToCart" method="post">
            <input type="hidden" name="productId" value="@Model.ProductId" />
            
            <div class="row mb-4">
                <div class="col-md-6">
                    <label class="form-label fw-bold">Màu sắc:</label>
                    <select name="color" class="form-select">
                        @{
                            var colors = Model.Color?.Split(new[] { ',', '/' }, StringSplitOptions.TrimEntries | StringSplitOptions.RemoveEmptyEntries);
                            if (colors != null && colors.Length > 0)
                            {
                                foreach(var c in colors)
                                {
                                    <option value="@c">@c</option>
                                }
                            }
                            else
                            {
                                <option value="Tiêu chuẩn">Tiêu chuẩn</option>
                            }
                        }
                    </select>
                </div>
                <div class="col-md-6">
                    <label class="form-label fw-bold">Kích cỡ:</label>
                    <select name="size" class="form-select">
                        @{
                            var sizes = Model.Size?.Split(new[] { ',', '/' }, StringSplitOptions.TrimEntries | StringSplitOptions.RemoveEmptyEntries);
                            if (sizes != null && sizes.Length > 0)
                            {
                                foreach(var s in sizes)
                                {
                                    <option value="@s">@s</option>
                                }
                            }
                            else
                            {
                                <option value="Tiêu chuẩn">Tiêu chuẩn</option>
                            }
                        }
                    </select>
                </div>
            </div>

            <div class="d-grid gap-2 d-md-block">
                <button type="submit" class="btn btn-primary btn-lg px-5"><i class="bi bi-cart-plus"></i> Thêm vào giỏ</button>
            </div>
        </form>
    </div>
</div>

<div class="mt-5">
    <a asp-action="Index" class="btn btn-link text-decoration-none"><i class="bi bi-arrow-left"></i> Quay lại trang chủ</a>
</div>
